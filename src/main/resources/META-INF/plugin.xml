<idea-plugin>
    <id>com.ibeetl.Beetl-Support</id>
    <name>Beetl-Support</name>
    <vendor email="trumansdo@foxmail.com" url="https://gitee.com/eighttrigrams/Beetl-Support"></vendor>
	<resource-bundle>messages.BeetlBundle</resource-bundle>
    <description><![CDATA[
    Beetl Framework Support <br>
    <em>Finished Feature：</em>
    <ul>
        <li>1. SyntaxHiglight</li>
        <li>2. Beetl自定义定界符、占位符</li>
        <li>3. 错误提示</li>
        <li>4. 语法着色方案配置</li>
    </ul>
    <pre>
插件默认识别.btl 文件，若要修改为其他类型，请在idea 进行如下设置：
Settings -> File Type ，右边找到 beetl, 在下面.btl 后添加自定义文件类型后缀。
只支持beetl嵌入HTML语言中。 默认识别beetl默认定界符和占位符。
可在Settings 中找到Beetl设置，自定义定界符和占位符配置
    </pre>
    ]]></description>
	<!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/build_number_ranges.html for description -->
	<idea-version since-build="171"/>
    <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/plugin_compatibility.html
         on how to target different products -->
    <!-- uncomment to enable plugin in all products
    <depends>com.intellij.modules.lang</depends>
    -->
	<!--<depends optional="true">com.intellij.spring</depends>-->
	<!--<depends optional="true">com.intellij.spring.boot</depends>-->
	<!--<depends optional="true">com.intellij.database</depends>-->
	<depends>com.intellij.modules.java</depends>
    <extensions defaultExtensionNs="com.intellij">
        <fileTypeFactory implementation="com.intellij.ibeetl.lang.BeetlFileTypeFactory"/>
        <lang.parserDefinition language="btl" implementationClass="com.intellij.ibeetl.lang.BeetlParserDefinition"/>
        <!--
        两个fileview一样。根据模板语言的开发步骤：
        1、自定义模板flex，并把模板语言之外的外部语言识别为一个template data  type
        2、定义fileViewProvider，将外部语言的内容给正确的语言识别
        3、注册扩展点
        -->
        <!--<fileType.fileViewProviderFactory filetype="btl" implementationClass="com.intellij.ibeetl.lang.psi.file.BeetlFileViewProviderFactory"/>-->
        <lang.fileViewProviderFactory language="btl" implementationClass="com.intellij.ibeetl.lang.psi.fileview.BeetlFileViewProviderFactory"/>
	    <syntaxHighlighter key="btl" implementationClass="com.intellij.ibeetl.lang.highlight.BeetlSyntaxHighlighter"/>
        <lang.syntaxHighlighterFactory language="btl" implementationClass="com.intellij.ibeetl.lang.highlight.BeetlSyntaxHighlighterFactory"/>
	    <lang.commenter language="btl" implementationClass="com.intellij.ibeetl.lang.BeetlCommenter"/>
	    <quoteHandler fileType="Beetl" className="com.intellij.ibeetl.lang.support.BeetlQuoteHandler"/>
	    <!--<lang.formatter language="btl"  implementationClass="com.intellij.ibeetl.lang.psi.formatter.BeetlFormattingModelBuilder"/>-->
	    <colorSettingsPage implementation="com.intellij.ibeetl.lang.highlight.BeetlColorSettingsPage"/>
	    <!--beetl配置页面-->
	    <applicationConfigurable instance="com.intellij.ibeetl.setting.BeetlConfigure"/>
	    <!--应用服务-->
	    <!-- 这种方式没用。<applicationService serviceInterface="com.intellij.ibeetl.setting.BeetlSetting" serviceImplementation="com.intellij.ibeetl.setting.BeetlSetting"/>-->
	    <externalAnnotator language="btl" implementationClass="com.intellij.ibeetl.lang.BeetlExternalAnnotator"/>
	    <localInspection groupPath="Beetl" language="btl" shortName="BeetlExternalLint" bundle="messages.BeetlBundle" key="inspection.beetl.external_lint.display.name"
	                     groupKey="group.names.beetl.issues" enabledByDefault="true" level="ERROR" unfair="true"
	                     implementationClass="com.intellij.ibeetl.lang.codeInspection.BeetlExternalInsepction"/>
	    <fileBasedIndex implementation="com.intellij.ibeetl.lang.BeetlFileIndex"/>
	    <completion.contributor language="Properties" implementationClass="com.intellij.ibeetl.lang.support.BeetlCompletionContributor"/>
    </extensions>
    <actions>
    </actions>
	<project-components>
		<component>
			<interface-class>com.intellij.openapi.components.PersistentStateComponent</interface-class>
			<implementation-class>com.intellij.ibeetl.setting.BeetlSetting</implementation-class>
		</component>
	</project-components>
</idea-plugin>